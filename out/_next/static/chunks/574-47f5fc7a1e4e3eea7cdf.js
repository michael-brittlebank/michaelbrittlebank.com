(("undefined"!==typeof self?self:this).webpackChunk_N_E=("undefined"!==typeof self?self:this).webpackChunk_N_E||[]).push([[574],{5574:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var n=s(18),r=s(5893),o=s(6610),i=s(5991),c=s(3349),a=s(5255),l=s(6089),u=s(7608),d=s(7294),h=s(6444),f=s(7625),m=s(8655),v=s(4184),p=s.n(v),N=s(2435),x=s(5534);function y(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return(0,l.Z)(this,s)}}var g=function(e){(0,a.Z)(s,e);var t=y(s);function s(e){var n;return(0,o.Z)(this,s),(n=t.call(this,e)).state={availableInstruments:[],availableTunings:[],searchResults:void 0,selectedInstrument:void 0,selectedTuning:void 0,selectedNotes:[],rootNote:void 0,selectedScale:void 0,selectedChord:void 0,chords:[],scales:[]},n._selectInstrument=n._selectInstrument.bind((0,c.Z)(n)),n._selectTuning=n._selectTuning.bind((0,c.Z)(n)),n._search=n._search.bind((0,c.Z)(n)),n._renderInstrument=n._renderInstrument.bind((0,c.Z)(n)),n._selectNote=n._selectNote.bind((0,c.Z)(n)),n._removeNote=n._removeNote.bind((0,c.Z)(n)),n._selectChord=n._selectChord.bind((0,c.Z)(n)),n._selectScale=n._selectScale.bind((0,c.Z)(n)),n}return(0,i.Z)(s,[{key:"componentDidMount",value:function(){var e=this;h.Hauptstimme.getAvailableData().then((function(t){var s=t.chords,n=t.scales,r=t.instruments;e.setState({chords:s,scales:n,availableInstruments:r.filter((function(e){return e.type===h.Constants.instrumentTypeConstant.FRETTED_INSTRUMENT||e.type===h.Constants.instrumentTypeConstant.KEYED_INSTRUMENT})),selectedInstrument:r.find((function(e){return"Guitar"===e.name})),availableTunings:r.filter((function(e){return e.type===h.Constants.instrumentTypeConstant.ALTERNATE_TUNING}))})})).then((function(){var t=e.state,s=t.selectedInstrument,n=t.availableInstruments,r=document.getElementById("instrument-"+n.findIndex((function(e){return e.name===s.name})));document.getElementById("instrument-container").scrollTop=r.offsetTop-55}))}},{key:"render",value:function(){var e=this,t=this.state,s=t.availableInstruments,n=t.availableTunings,o=t.selectedInstrument,i=t.selectedTuning,c=t.rootNote,a=t.selectedNotes,l=t.searchResults,u=t.selectedChord,d=t.selectedScale;return(0,r.jsxs)("section",{id:"hauptstimme-container",className:"col-sm-12",children:[(0,r.jsx)("h2",{id:"hauptstimme-title",className:"section-header",children:"Hauptstimme.js"}),(0,r.jsxs)("p",{children:["This project is for searching musical scales and chords which match a selection of notes. It is registered as a"," ",(0,r.jsx)("a",{href:"http://npmjs.com/package/hauptstimme-js",target:"_blank",rel:"noreferrer",children:"npm package"})," ","and originally built with"," ",(0,r.jsxs)("a",{href:"https://www.typescriptlang.org/",target:"_blank",rel:"noreferrer",children:[" ","TypeScript"]}),"."]}),(0,r.jsxs)("p",{children:["There are ",(0,r.jsx)("strong",{children:"91"})," instrument tunings available and"," ",(0,r.jsx)("strong",{children:"26"})," scale and ",(0,r.jsx)("strong",{children:"51"})," chord types which produce ",(0,r.jsx)("strong",{children:"312"})," and ",(0,r.jsx)("strong",{children:"612"})," searchable variations, respectively."]}),(0,r.jsx)("p",{children:"When using the interface, left click on any instrument fret or key to select a note. Your selection will be indicated by a blue background around the note you chose. Clicking a second time designates this note as the root note. This is illustrated by a red background. Right click on any selected note or root note to clear it. After you are finished selecting the combination of notes you want to search for, hit the search button."}),(0,r.jsx)("p",{children:"When the search has finished, the lists below the instrument will be populated with results that match the selected notes. Left click on any of these search results to apply it to the instrument above. Notes that are in the search result you selected but are not a user selected note will have a gold background. Click again on the same result to clear it from the instrument."}),(0,r.jsxs)("div",{className:"col-sm-12 row",children:[(0,r.jsxs)("div",{className:"col-sm-12 col-md-6",children:[(0,r.jsx)("h4",{children:"Instruments"}),(0,r.jsx)("div",{id:"instrument-container",className:"list-item-selector",children:s.map((function(t,s){return(0,r.jsx)("a",{id:"instrument-"+s,className:p()("list-item",{selected:t===o}),onClick:function(s){return e._selectInstrument(s,t)},children:t.name},s)}))})]}),(0,r.jsxs)("div",{className:"col-sm-12 col-md-6",children:[(0,r.jsx)("h4",{children:"Guitar Tunings"}),(0,r.jsx)("div",{className:"list-item-selector",children:n.map((function(t,s){return(0,r.jsx)("a",{className:p()("list-item",{selected:t===i}),onClick:function(s){return e._selectTuning(s,t)},children:t.name},s)}))})]})]}),this._renderInstrument(),(0,r.jsx)("button",{className:p()("button",{disabled:isNaN(c)&&a.length<1}),onClick:function(t){return e._search(t)},children:"Search"}),(0,r.jsxs)("div",{className:"col-sm-12 row",children:[l&&l.chords?(0,r.jsxs)("div",{className:"col-sm-12 col-md-6",children:[(0,r.jsx)("h4",{children:"Chord Results"}),(0,r.jsx)("div",{className:"list-item-selector",children:l.chords.length>0?l.chords.map((function(t,s){return(0,r.jsxs)("a",{className:p()("list-item",{selected:t===u}),onClick:function(s){return e._selectChord(s,t)},children:[t.name," \u2013 ",t.description]},s)})):(0,r.jsx)("p",{className:"no-results",children:"No Results."})})]}):null,l&&l.scales?(0,r.jsxs)("div",{className:"col-sm-12 col-md-6",children:[(0,r.jsx)("h4",{children:"Scale Results"}),(0,r.jsx)("div",{className:"list-item-selector",children:l.scales.length>0?l.scales.map((function(t,s){return(0,r.jsxs)("a",{className:p()("list-item",{selected:t===d}),onClick:function(s){return e._selectScale(s,t)},children:[t.name," \u2013 ",t.description]},s)})):(0,r.jsx)("p",{className:"no-results",children:"No Results."})})]}):null,l?null:(0,r.jsx)("div",{id:"no-search",className:"col-sm-12",children:(0,r.jsx)("p",{children:"Please select some notes and hit the search button to get matching chords and scales"})})]}),(0,r.jsxs)("a",{href:"https://github.com/mike-stumpf/hauptstimme.js",className:"button",target:"_blank",rel:"noreferrer",children:["View Code\xa0\xa0\xa0",(0,r.jsx)(f.G,{icon:m,className:"fa"})]})]})}},{key:"_selectInstrument",value:function(e,t){e.preventDefault();var s=this.state.selectedInstrument;s&&s===t||this.setState({selectedInstrument:t,selectedTuning:void 0})}},{key:"_selectTuning",value:function(e,t){e.preventDefault();var s=this.state.selectedTuning;s&&s===t||this.setState({selectedTuning:t,selectedInstrument:void 0})}},{key:"_search",value:function(e){var t=this;e.preventDefault();var s=this.state,n=s.rootNote,r=s.selectedNotes,o=s.chords,i=s.scales;(!isNaN(n)||r.length>0)&&h.Hauptstimme.search({searchRequest:{rootNote:n,notes:r},chords:o,scales:i}).then((function(e){t.setState({searchResults:e})}))}},{key:"_selectNote",value:function(e){var t=this.state,s=t.rootNote,r=t.selectedNotes;isNaN(s)||s!==e?-1!==r.indexOf(e)?(-1!==r.indexOf(e)&&r.splice(r.indexOf(e),1),isNaN(s)||(r=[].concat((0,n.Z)(r),[s])),this.setState({selectedNotes:r,rootNote:e}),this._resetSearchResults()):(this.setState({selectedNotes:[].concat((0,n.Z)(r),[e])}),this._resetSearchResults()):(this.setState({rootNote:void 0}),this._resetSearchResults())}},{key:"_removeNote",value:function(e){var t=this.state,s=t.rootNote,n=t.selectedNotes;isNaN(s)||s!==e?-1!==n.indexOf(e)&&(-1!==n.indexOf(e)&&n.splice(n.indexOf(e),1),this.setState({selectedNotes:n}),this._resetSearchResults()):(this.setState({rootNote:void 0}),this._resetSearchResults())}},{key:"_resetSearchResults",value:function(){this.setState({selectedChord:void 0,selectedScale:void 0,searchResults:void 0})}},{key:"_selectChord",value:function(e,t){e.preventDefault();var s=this.state.selectedChord;s&&s===t?this.setState({selectedChord:void 0}):this.setState({selectedChord:t,selectedScale:void 0})}},{key:"_selectScale",value:function(e,t){e.preventDefault();var s=this.state.selectedScale;s&&s===t?this.setState({selectedScale:void 0}):this.setState({selectedScale:t,selectedChord:void 0})}},{key:"_getResultNotes",value:function(){var e=this.state,t=e.selectedChord,s=e.selectedScale;return t||s?t?t.notes:s.notes:[]}},{key:"_renderInstrument",value:function(){var e=this.state,t=e.selectedInstrument,s=e.selectedTuning,n=e.selectedNotes,o=e.rootNote;if(t||s){var i=t||s;return i.type===h.Constants.instrumentTypeConstant.KEYED_INSTRUMENT?(0,r.jsx)(x.default,{instrument:i,selectedNotes:n,resultNotes:this._getResultNotes(),rootNote:o,onClick:this._selectNote,onContextMenu:this._removeNote}):(0,r.jsx)(N.default,{instrument:i,selectedNotes:n,resultNotes:this._getResultNotes(),rootNote:o,onClick:this._selectNote,onContextMenu:this._removeNote})}return null}}]),s}(d.Component)},2435:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return p}});var n=s(5893),r=s(18),o=s(6610),i=s(3349),c=s(5991),a=s(5255),l=s(6089),u=s(7608),d=s(6156),h=s(7294),f=s(6444),m=s(4184);function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=(0,u.Z)(e);if(t){var r=(0,u.Z)(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return(0,l.Z)(this,s)}}var p=function(e){(0,a.Z)(s,e);var t=v(s);function s(e){var n;(0,o.Z)(this,s),n=t.call(this,e),(0,d.Z)((0,i.Z)(n),"numberOfFrets",12);var c=n.props.instrument;return n.state={rootNotes:c&&c.rootNotes?(0,r.Z)(c.rootNotes).reverse():[]},n}return(0,c.Z)(s,[{key:"_getFretMarkers",value:function(){for(var e=[],t=0;t<=this.numberOfFrets;t++)3===t||5===t||9===t?e.push(String.fromCharCode(9678)):7===t||12===t?e.push(String.fromCharCode(9673)+String.fromCharCode(9673)):e.push(String.fromCharCode(160));return e}},{key:"_getFretsFromRootNote",value:function(e){for(var t=[e],s=e,n=0;n<=this.numberOfFrets-1;n++)s=f.Util.adjustNoteBySteps({note:s,halfSteps:1}),t.push(s);return t}}]),(0,c.Z)(s,[{key:"componentDidUpdate",value:function(e){var t=this.props.instrument;e.instrument.id!==t.id&&this.setState({rootNotes:(0,r.Z)(t.rootNotes).reverse()})}},{key:"render",value:function(){var e=this,t=this.props,s=t.selectedNotes,r=t.rootNote,o=t.resultNotes,i=t.onClick,c=t.onContextMenu,a=this.state.rootNotes;return(0,n.jsxs)("div",{className:"instrument-container",children:[(0,n.jsx)("div",{className:"string fret-marker",children:this._getFretMarkers().map((function(e,t){return(0,n.jsx)("div",{className:"fret",children:e},t)}))}),a.map((function(t,a){return(0,n.jsx)("div",{className:"string",children:e._getFretsFromRootNote(t).map((function(e,t){return(0,n.jsx)("div",{className:m("fret note",{selected:-1!==s.indexOf(e),root:r===e,found:-1!==o.indexOf(e)}),"data-note":e,onContextMenu:function(e){e.preventDefault()},children:(0,n.jsx)("p",{children:(0,n.jsx)("span",{onClick:function(t){t.preventDefault(),i(e)},onContextMenu:function(t){t.preventDefault(),c(e)},children:f.Util.getFormattedLetterFromNote({note:e})})})},t)}))},a)}))]})}}]),s}(h.Component)},5534:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return f}});var n=s(5893),r=s(6610),o=s(5991),i=s(5255),c=s(6089),a=s(7608),l=s(7294),u=s(6444),d=s(4184);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var s,n=(0,a.Z)(e);if(t){var r=(0,a.Z)(this).constructor;s=Reflect.construct(n,arguments,r)}else s=n.apply(this,arguments);return(0,c.Z)(this,s)}}var f=function(e){(0,i.Z)(s,e);var t=h(s);function s(){return(0,r.Z)(this,s),t.apply(this,arguments)}return(0,o.Z)(s,[{key:"render",value:function(){var e=this.props,t=e.instrument,r=e.selectedNotes,o=e.onClick,i=e.rootNote,c=e.resultNotes,a=e.onContextMenu;return(0,n.jsx)("div",{className:"instrument-container piano-keyboard",children:t&&t.rootNotes.map((function(e,t){return(0,n.jsx)("div",{className:d("piano-key",{selected:-1!==r.indexOf(e),black:s._isBlackKey(e),white:!s._isBlackKey(e)}),"data-note":e,onClick:function(t){t.preventDefault(),o(e)},onContextMenu:function(t){t.preventDefault(),a(e)},children:(0,n.jsx)("p",{className:d("note",{selected:-1!==r.indexOf(e),root:i===e,found:-1!==c.indexOf(e)}),children:(0,n.jsx)("span",{children:u.Util.getFormattedLetterFromNote({note:e})})})},t)}))})}}],[{key:"_isBlackKey",value:function(e){return e===u.Constants.noteConstant.AB||e===u.Constants.noteConstant.CD||e===u.Constants.noteConstant.DE||e===u.Constants.noteConstant.FG||e===u.Constants.noteConstant.GA}}]),s}(l.Component)}}]);